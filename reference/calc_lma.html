<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="calc_lma() will typically only be called internally by lma(). It provides
the flexibility to use custom regression parameters to calculate leaf mass
per area (LMA)."><title>Generate leaf mass per area results — calc_lma • dilp</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate leaf mass per area results — calc_lma"><meta property="og:description" content="calc_lma() will typically only be called internally by lma(). It provides
the flexibility to use custom regression parameters to calculate leaf mass
per area (LMA)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">dilp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/dilp.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/mjbutrim/dilp/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Generate leaf mass per area results</h1>
      <small class="dont-index">Source: <a href="https://github.com/mjbutrim/dilp/blob/HEAD/R/lma_functions.R" class="external-link"><code>R/lma_functions.R</code></a></small>
      <div class="d-none name"><code>calc_lma.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>calc_lma()</code> will typically only be called internally by <code><a href="lma.html">lma()</a></code>. It provides
the flexibility to use custom regression parameters to calculate leaf mass
per area (LMA).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">calc_lma</span><span class="op">(</span><span class="va">data</span>, <span class="va">params</span>, resolution <span class="op">=</span> <span class="st">"species"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>Must include "petiole metric" or some combination of columns to
calculate petiole metric such as "Blade Area", "Petiole Area", and "Petiole Width",
or "Leaf Area" and "Petiole Width".  If calculating morphospecies-mean LMA,
must include "Site" and "Morphotype" columns. If calculating species-mean LMA,
only needs to include a "Site' column.</p></dd>


<dt>params</dt>
<dd><p>A list of regression parameters. Must contain "stat" (= "mean" or = "variance"),
"regression_slope", "y_intercept", "unexplained_mean_square", "sample_size_calibration"
"mean_log_petiole_metric_calibration", "sum_of_squares_calibration", and "critical_value".</p>
<p>Pre-loaded sets of parameters:</p>
<dl><dt>"royer_species_mean_ma":</dt>
<dd>
<ul><li><p>stat = "mean",</p></li>
<li><p>regression_slope = 0.382,</p></li>
<li><p>y_intercept = 3.070,</p></li>
<li><p>unexplained_mean_square = 0.032237,</p></li>
<li><p>sample_size_calibration = 667,</p></li>
<li><p>mean_log_petiole_metric_calibration = -3.011,</p></li>
<li><p>sum_of_squares_calibration = 182.1,</p></li>
<li><p>critical_value = 1.964</p></li>
</ul></dd>


<dt>"royer_site_mean_ma":</dt>
<dd>
<ul><li><p>stat = "mean",</p></li>
<li><p>regression_slope = 0.429,</p></li>
<li><p>y_intercept = 3.214,</p></li>
<li><p>unexplained_mean_square = 0.005285,</p></li>
<li><p>sample_size_calibration = 25,</p></li>
<li><p>mean_log_petiole_metric_calibration = -2.857,</p></li>
<li><p>sum_of_squares_calibration = 5.331,</p></li>
<li><p>critical_value = 2.069</p></li>
</ul></dd>


<dt>"lowe_site_mean_ma":</dt>
<dd>
<ul><li><p>stat = "mean",</p></li>
<li><p>regression_slope = 0.345,</p></li>
<li><p>y_intercept = 2.954,</p></li>
<li><p>unexplained_mean_square = 0.01212861,</p></li>
<li><p>sample_size_calibration = 70,</p></li>
<li><p>mean_log_petiole_metric_calibration = -2.902972,</p></li>
<li><p>sum_of_squares_calibration = 1.154691,</p></li>
<li><p>critical_value = 1.995469</p></li>
</ul></dd>


<dt>"lowe_site_variance_ma":</dt>
<dd>
<ul><li><p>stat = "variance",</p></li>
<li><p>regression_slope = 0.302,</p></li>
<li><p>y_intercept = 5.028,</p></li>
<li><p>unexplained_mean_square = 0.1713672,</p></li>
<li><p>sample_size_calibration = 70,</p></li>
<li><p>mean_log_petiole_metric_calibration = -5.97104,</p></li>
<li><p>sum_of_squares_calibration = 5.085184,</p></li>
<li><p>critical_value = 1.995469</p></li>
</ul></dd>


</dl></dd>


<dt>resolution</dt>
<dd><p>Either "species" or "site".  Informs whether the function
should calculate morphospecies-mean LMA values ("species") or site-mean/site-
variance LMA values ("site").  If resolution = "site", data must already be
in the form of species-mean LMA.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A table with LMA results</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    
<ul><li><p>Royer, D. L., L. Sack, P. Wilf, C. H. Lusk, G. J. Jordan, Ulo Niinemets, I. J. Wright, et al. 2007. Fossil Leaf Economics Quantified: Calibration, Eocene Case Study, and Implications. Paleobiology 33: 574–589</p></li>
<li><p>Lowe, A. J., D. L. Royer, D. J. Wieczynski, M. J. Butrim, T. Reichgelt, L. Azevedo-Schmidt, D. J. Peppe, et al. 2024. Global patterns in community-scale leaf mass per area distributions of woody non-monocot angiosperms and their utility in the fossil record. In review.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Calculate morphospecies-mean LMA values with the parameters from Royer et al. (2007)</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">calc_lma</span><span class="op">(</span><span class="va">McAbeeExample</span>,</span></span>
<span class="r-in"><span>  params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    stat <span class="op">=</span> <span class="st">"mean"</span>,</span></span>
<span class="r-in"><span>    regression_slope <span class="op">=</span> <span class="fl">0.382</span>,</span></span>
<span class="r-in"><span>    y_intercept <span class="op">=</span> <span class="fl">3.070</span>,</span></span>
<span class="r-in"><span>    unexplained_mean_square <span class="op">=</span> <span class="fl">0.032237</span>,</span></span>
<span class="r-in"><span>    sample_size_calibration <span class="op">=</span> <span class="fl">667</span>,</span></span>
<span class="r-in"><span>    mean_log_petiole_metric_calibration <span class="op">=</span> <span class="op">-</span><span class="fl">3.011</span>,</span></span>
<span class="r-in"><span>    sum_of_squares_calibration <span class="op">=</span> <span class="fl">182.1</span>,</span></span>
<span class="r-in"><span>    critical_value <span class="op">=</span> <span class="fl">1.964</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  resolution <span class="op">=</span> <span class="st">"species"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">results</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         site morphotype  n petiole_metric    lower     value     upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  McAbee H1         M1 10   0.0018166221 81.37167 105.44818 136.64852</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  McAbee H1         M5  3   0.0011067149 54.54670  87.26130 139.59661</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  McAbee H1         M8  8   0.0011510539 66.35987  88.58058 118.24193</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  McAbee H1        M12  1   0.0010808383 38.37080  86.47620 194.89128</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  McAbee H1        M13  1   0.0006070381 30.77894  69.37268 156.35916</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  McAbee H1        M18  1   0.0011637972 39.46986  88.95393 200.47708</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  McAbee H1        M19  1   0.0008073257 34.32356  77.35576 174.33838</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  McAbee H1        M24  5   0.0002309535 33.24559  47.95859  69.18289</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  McAbee H1        M28  1   0.0002175761 20.78085  46.87783 105.74787</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 McAbee H1        M41  1   0.0002994371 23.48554  52.96009 119.42543</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 McAbee H1        M44  1   0.0005108600 28.81385  64.94883 146.40011</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 McAbee H1        M73  1   0.0003778943 25.67425  57.88359 130.50081</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 McAbee H1        M79  2   0.0003960090 33.14315  58.92822 104.77386</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 McAbee H1        M91  1   0.0001524066 18.12949  40.91735  92.34838</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 McAbee H2         M1  3   0.0008877491 50.14134  80.21339 128.32102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 McAbee H2         M8  2   0.0010796906 48.64042  86.44111 153.61845</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 McAbee H2        M18  1   0.0002132426 20.62123  46.51895 104.94097</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18 McAbee H2        M19  4   0.0006803596 48.21879  72.46130 108.89200</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 McAbee H2        M22  3   0.0008971039 50.34260  80.53524 128.83571</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 McAbee H2        M24  2   0.0007082087 41.40139  73.58031 130.77005</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 McAbee H2        M28  1   0.0004553366 27.57296  62.15600 140.11437</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22 McAbee H2        M29  1   0.0001254609 16.82558  37.98658  85.76111</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 McAbee H2        M31  2   0.0003283234 30.84620  54.85640  97.55577</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24 McAbee H2        M47  2   0.0009868057 46.99765  83.52115 148.42836</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 McAbee H2        M76  1   0.0001534697 18.17789  41.02614  92.59292</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26 McAbee H2        M94  1   0.0001232820 16.71284  37.73320  85.19165</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27 McAbee H2        M97  1   0.0005314955 29.25363  65.93877 148.62843</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Calculate site-mean LMA values with the parameters from Lowe et al. (2024) entered from scratch</span></span></span>
<span class="r-in"><span><span class="va">site_results</span> <span class="op">&lt;-</span> <span class="fu">calc_lma</span><span class="op">(</span><span class="va">results</span>,</span></span>
<span class="r-in"><span>  params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    stat <span class="op">=</span> <span class="st">"mean"</span>,</span></span>
<span class="r-in"><span>    regression_slope <span class="op">=</span> <span class="fl">0.345</span>,</span></span>
<span class="r-in"><span>    y_intercept <span class="op">=</span> <span class="fl">2.954</span>,</span></span>
<span class="r-in"><span>    unexplained_mean_square <span class="op">=</span> <span class="fl">0.01212861</span>,</span></span>
<span class="r-in"><span>    sample_size_calibration <span class="op">=</span> <span class="fl">70</span>,</span></span>
<span class="r-in"><span>    mean_log_petiole_metric_calibration <span class="op">=</span> <span class="op">-</span><span class="fl">2.902972</span>,</span></span>
<span class="r-in"><span>    sum_of_squares_calibration <span class="op">=</span> <span class="fl">1.154691</span>,</span></span>
<span class="r-in"><span>    critical_value <span class="op">=</span> <span class="fl">1.995469</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  resolution <span class="op">=</span> <span class="st">"site"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">site_results</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        site  n    lower    value    upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 McAbee H1 14 61.03750 73.68178 88.94539</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 McAbee H2 13 53.87969 67.58568 84.77822</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matthew J. Butrim, Alexander J. Lowe, Andrew G. Flynn, Aly Baumgartner, Daniel J. Peppe, Dana L. Royer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

